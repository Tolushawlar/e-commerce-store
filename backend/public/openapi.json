{
  "openapi": "3.0.0",
  "info": {
    "title": "LivePetal E-Commerce Platform API",
    "description": "Multi-tenant e-commerce platform with JWT authentication. This API allows super admins to manage clients and their stores, while clients can manage their products and orders.",
    "version": "2.0.0",
    "contact": {
      "name": "API Support",
      "email": "support@livepetal.com"
    }
  },
  "servers": [
    {
      "url": "http://localhost:8000/backend/public",
      "description": "Local Development Server"
    },
    {
      "url": "https://api.livepetal.com",
      "description": "Production Server"
    }
  ],
  "tags": [
    {
      "name": "Authentication",
      "description": "User authentication and token management endpoints"
    },
    {
      "name": "Clients",
      "description": "Client management endpoints (Admin only)"
    },
    {
      "name": "Stores",
      "description": "Store management endpoints"
    },
    {
      "name": "Products",
      "description": "Product management endpoints"
    },
    {
      "name": "Orders",
      "description": "Order management and statistics endpoints"
    },
    {
      "name": "Templates",
      "description": "Store template management endpoints"
    }
  ],
  "paths": {
    "/api/auth/admin/login": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Super Admin Login",
        "description": "Authenticate super admin and receive JWT token",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["email", "password"],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "admin@platform.com"
                  },
                  "password": {
                    "type": "string",
                    "format": "password",
                    "example": "password123"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login successful",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean", "example": true },
                    "message": { "type": "string", "example": "Login successful" },
                    "data": {
                      "type": "object",
                      "properties": {
                        "token": { "type": "string", "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." },
                        "user": {
                          "type": "object",
                          "properties": {
                            "id": { "type": "integer", "example": 1 },
                            "username": { "type": "string", "example": "admin" },
                            "email": { "type": "string", "example": "admin@platform.com" },
                            "role": { "type": "string", "example": "admin" }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "422": { "$ref": "#/components/responses/ValidationError" }
        }
      }
    },
    "/api/auth/client/login": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Client Login",
        "description": "Authenticate client and receive JWT token",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["email", "password"],
                "properties": {
                  "email": { "type": "string", "format": "email", "example": "client@example.com" },
                  "password": { "type": "string", "format": "password", "example": "password123" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login successful",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    { "$ref": "#/components/schemas/SuccessResponse" },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "token": { "type": "string" },
                            "user": { "$ref": "#/components/schemas/Client" }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "403": { "description": "Account not active" },
          "422": { "$ref": "#/components/responses/ValidationError" }
        }
      }
    },
    "/api/auth/client/register": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Client Registration",
        "description": "Register a new client account and receive JWT token",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["name", "email", "password"],
                "properties": {
                  "name": { "type": "string", "example": "John Doe" },
                  "email": { "type": "string", "format": "email", "example": "john@example.com" },
                  "password": { "type": "string", "format": "password", "minLength": 8, "example": "password123" },
                  "company_name": { "type": "string", "nullable": true, "example": "Acme Inc" },
                  "phone": { "type": "string", "nullable": true, "example": "+1234567890" },
                  "subscription_plan": { "type": "string", "enum": ["basic", "standard", "premium"], "example": "basic" }
                }
              }
            }
          }
        },
        "responses": {
          "201": { "description": "Registration successful" },
          "409": { "description": "Email already exists" },
          "422": { "$ref": "#/components/responses/ValidationError" }
        }
      }
    },
    "/api/auth/verify": {
      "get": {
        "tags": ["Authentication"],
        "summary": "Verify Token",
        "description": "Verify if a JWT token is valid and get user information",
        "security": [{"bearerAuth": []}],
        "responses": {
          "200": { "description": "Token is valid" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "404": { "description": "User not found" }
        }
      }
    },
    "/api/auth/refresh": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Refresh Token",
        "description": "Refresh JWT token before it expires",
        "security": [{"bearerAuth": []}],
        "responses": {
          "200": { "description": "Token refreshed successfully" },
          "401": { "$ref": "#/components/responses/Unauthorized" }
        }
      }
    },
    "/api/auth/logout": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Logout",
        "description": "Logout user (client-side token removal)",
        "security": [{"bearerAuth": []}],
        "responses": {
          "200": { "description": "Logged out successfully" }
        }
      }
    },
    "/api/auth/change-password": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Change Password",
        "description": "Change authenticated user's password",
        "security": [{"bearerAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["current_password", "new_password", "confirm_password"],
                "properties": {
                  "current_password": { "type": "string", "format": "password" },
                  "new_password": { "type": "string", "format": "password", "minLength": 8 },
                  "confirm_password": { "type": "string", "format": "password" }
                }
              }
            }
          }
        },
        "responses": {
          "200": { "description": "Password changed successfully" },
          "400": { "description": "Passwords do not match" },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "422": { "$ref": "#/components/responses/ValidationError" }
        }
      }
    },
    "/api/clients": {
      "get": {
        "tags": ["Clients"],
        "summary": "Get all clients",
        "description": "Retrieve paginated list of clients with statistics (Admin only)",
        "security": [{"bearerAuth": []}],
        "parameters": [
          { "name": "page", "in": "query", "schema": { "type": "integer", "default": 1 } },
          { "name": "limit", "in": "query", "schema": { "type": "integer", "default": 20 } },
          { "name": "status", "in": "query", "schema": { "type": "string", "enum": ["active", "inactive", "suspended"] } }
        ],
        "responses": {
          "200": { "description": "List of clients" },
          "401": { "$ref": "#/components/responses/Unauthorized" }
        }
      },
      "post": {
        "tags": ["Clients"],
        "summary": "Create new client",
        "description": "Create a new client account (Admin only)",
        "security": [{"bearerAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/ClientInput" }
            }
          }
        },
        "responses": {
          "201": { "description": "Client created successfully" },
          "409": { "description": "Email already exists" },
          "422": { "$ref": "#/components/responses/ValidationError" }
        }
      }
    },
    "/api/clients/{id}": {
      "get": {
        "tags": ["Clients"],
        "summary": "Get single client",
        "description": "Retrieve client details with stores (Admin only)",
        "security": [{"bearerAuth": []}],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }
        ],
        "responses": {
          "200": { "description": "Client details" },
          "404": { "description": "Client not found" },
          "401": { "$ref": "#/components/responses/Unauthorized" }
        }
      },
      "put": {
        "tags": ["Clients"],
        "summary": "Update client",
        "description": "Update client information (Admin only)",
        "security": [{"bearerAuth": []}],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/ClientInput" }
            }
          }
        },
        "responses": {
          "200": { "description": "Client updated successfully" },
          "404": { "description": "Client not found" },
          "422": { "$ref": "#/components/responses/ValidationError" }
        }
      },
      "delete": {
        "tags": ["Clients"],
        "summary": "Delete client",
        "description": "Delete a client and all associated data (Admin only)",
        "security": [{"bearerAuth": []}],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }
        ],
        "responses": {
          "200": { "description": "Client deleted successfully" },
          "404": { "description": "Client not found" }
        }
      }
    },
    "/api/stores": {
      "get": {
        "tags": ["Stores"],
        "summary": "Get all stores",
        "description": "Retrieve paginated list of stores",
        "security": [{"bearerAuth": []}],
        "parameters": [
          { "name": "page", "in": "query", "schema": { "type": "integer", "default": 1 } },
          { "name": "limit", "in": "query", "schema": { "type": "integer", "default": 20 } },
          { "name": "client_id", "in": "query", "schema": { "type": "integer" }, "description": "Filter by client ID" },
          { "name": "status", "in": "query", "schema": { "type": "string", "enum": ["active", "inactive", "maintenance"] } }
        ],
        "responses": {
          "200": { "description": "List of stores" },
          "401": { "$ref": "#/components/responses/Unauthorized" }
        }
      },
      "post": {
        "tags": ["Stores"],
        "summary": "Create new store",
        "description": "Create a new store (Admin only)",
        "security": [{"bearerAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["client_id", "name"],
                "properties": {
                  "client_id": { "type": "integer", "example": 1 },
                  "name": { "type": "string", "example": "My Online Store" },
                  "domain": { "type": "string", "nullable": true, "example": "mystore.com" },
                  "description": { "type": "string", "nullable": true },
                  "template": { "type": "string", "example": "default" },
                  "status": { "type": "string", "enum": ["active", "inactive", "maintenance"], "example": "active" }
                }
              }
            }
          }
        },
        "responses": {
          "201": { "description": "Store created successfully" },
          "422": { "$ref": "#/components/responses/ValidationError" },
          "401": { "$ref": "#/components/responses/Unauthorized" }
        }
      }
    },
    "/api/stores/{id}": {
      "get": {
        "tags": ["Stores"],
        "summary": "Get single store",
        "description": "Retrieve store details",
        "security": [{"bearerAuth": []}],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }
        ],
        "responses": {
          "200": { "description": "Store details" },
          "404": { "description": "Store not found" },
          "401": { "$ref": "#/components/responses/Unauthorized" }
        }
      },
      "put": {
        "tags": ["Stores"],
        "summary": "Update store",
        "description": "Update store information",
        "security": [{"bearerAuth": []}],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": { "type": "string" },
                  "domain": { "type": "string", "nullable": true },
                  "description": { "type": "string", "nullable": true },
                  "logo_url": { "type": "string", "nullable": true },
                  "status": { "type": "string", "enum": ["active", "inactive", "maintenance"] },
                  "customization": { "type": "object", "nullable": true }
                }
              }
            }
          }
        },
        "responses": {
          "200": { "description": "Store updated successfully" },
          "404": { "description": "Store not found" },
          "422": { "$ref": "#/components/responses/ValidationError" }
        }
      },
      "delete": {
        "tags": ["Stores"],
        "summary": "Delete store",
        "description": "Delete a store (Admin only)",
        "security": [{"bearerAuth": []}],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }
        ],
        "responses": {
          "200": { "description": "Store deleted successfully" },
          "404": { "description": "Store not found" }
        }
      }
    },
    "/api/stores/{id}/generate": {
      "post": {
        "tags": ["Stores"],
        "summary": "Generate store files",
        "description": "Generate static HTML files for the store",
        "security": [{"bearerAuth": []}],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }
        ],
        "responses": {
          "200": { "description": "Store files generated successfully" },
          "404": { "description": "Store not found" },
          "500": { "description": "Generation failed" }
        }
      }
    },
    "/api/products": {
      "get": {
        "tags": ["Products"],
        "summary": "Get all products",
        "description": "Retrieve paginated list of products",
        "security": [{"bearerAuth": []}],
        "parameters": [
          { "name": "page", "in": "query", "schema": { "type": "integer", "default": 1 } },
          { "name": "limit", "in": "query", "schema": { "type": "integer", "default": 20 } },
          { "name": "store_id", "in": "query", "schema": { "type": "integer" }, "description": "Filter by store ID" },
          { "name": "category", "in": "query", "schema": { "type": "string" }, "description": "Filter by category" },
          { "name": "status", "in": "query", "schema": { "type": "string", "enum": ["active", "inactive", "out_of_stock"] } },
          { "name": "search", "in": "query", "schema": { "type": "string" }, "description": "Search in name and description" }
        ],
        "responses": {
          "200": { "description": "List of products" },
          "401": { "$ref": "#/components/responses/Unauthorized" }
        }
      },
      "post": {
        "tags": ["Products"],
        "summary": "Create new product",
        "description": "Create a new product",
        "security": [{"bearerAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["store_id", "name", "price", "stock_quantity"],
                "properties": {
                  "store_id": { "type": "integer", "example": 1 },
                  "name": { "type": "string", "example": "Premium Widget" },
                  "description": { "type": "string", "nullable": true },
                  "price": { "type": "number", "format": "float", "example": 29.99 },
                  "stock_quantity": { "type": "integer", "example": 100 },
                  "sku": { "type": "string", "nullable": true, "example": "WIDGET-001" },
                  "category": { "type": "string", "nullable": true, "example": "Electronics" },
                  "image_url": { "type": "string", "nullable": true },
                  "status": { "type": "string", "enum": ["active", "inactive", "out_of_stock"], "example": "active" }
                }
              }
            }
          }
        },
        "responses": {
          "201": { "description": "Product created successfully" },
          "422": { "$ref": "#/components/responses/ValidationError" },
          "401": { "$ref": "#/components/responses/Unauthorized" }
        }
      }
    },
    "/api/products/{id}": {
      "get": {
        "tags": ["Products"],
        "summary": "Get single product",
        "description": "Retrieve product details",
        "security": [{"bearerAuth": []}],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }
        ],
        "responses": {
          "200": { "description": "Product details" },
          "404": { "description": "Product not found" },
          "401": { "$ref": "#/components/responses/Unauthorized" }
        }
      },
      "put": {
        "tags": ["Products"],
        "summary": "Update product",
        "description": "Update product information",
        "security": [{"bearerAuth": []}],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": { "type": "string" },
                  "description": { "type": "string", "nullable": true },
                  "price": { "type": "number", "format": "float" },
                  "stock_quantity": { "type": "integer" },
                  "sku": { "type": "string", "nullable": true },
                  "category": { "type": "string", "nullable": true },
                  "image_url": { "type": "string", "nullable": true },
                  "status": { "type": "string", "enum": ["active", "inactive", "out_of_stock"] }
                }
              }
            }
          }
        },
        "responses": {
          "200": { "description": "Product updated successfully" },
          "404": { "description": "Product not found" },
          "422": { "$ref": "#/components/responses/ValidationError" }
        }
      },
      "delete": {
        "tags": ["Products"],
        "summary": "Delete product",
        "description": "Delete a product",
        "security": [{"bearerAuth": []}],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }
        ],
        "responses": {
          "200": { "description": "Product deleted successfully" },
          "404": { "description": "Product not found" }
        }
      }
    },
    "/api/products/low-stock": {
      "get": {
        "tags": ["Products"],
        "summary": "Get low stock products",
        "description": "Retrieve products with low stock quantity",
        "security": [{"bearerAuth": []}],
        "parameters": [
          { "name": "threshold", "in": "query", "schema": { "type": "integer", "default": 10 }, "description": "Stock threshold" },
          { "name": "store_id", "in": "query", "schema": { "type": "integer" }, "description": "Filter by store ID" }
        ],
        "responses": {
          "200": { "description": "List of low stock products" },
          "401": { "$ref": "#/components/responses/Unauthorized" }
        }
      }
    },
    "/api/orders": {
      "get": {
        "tags": ["Orders"],
        "summary": "Get all orders",
        "description": "Retrieve paginated list of orders",
        "security": [{"bearerAuth": []}],
        "parameters": [
          { "name": "page", "in": "query", "schema": { "type": "integer", "default": 1 } },
          { "name": "limit", "in": "query", "schema": { "type": "integer", "default": 20 } },
          { "name": "store_id", "in": "query", "schema": { "type": "integer" }, "description": "Filter by store ID" },
          { "name": "status", "in": "query", "schema": { "type": "string", "enum": ["pending", "processing", "completed", "cancelled"] } },
          { "name": "from_date", "in": "query", "schema": { "type": "string", "format": "date" } },
          { "name": "to_date", "in": "query", "schema": { "type": "string", "format": "date" } }
        ],
        "responses": {
          "200": { "description": "List of orders" },
          "401": { "$ref": "#/components/responses/Unauthorized" }
        }
      },
      "post": {
        "tags": ["Orders"],
        "summary": "Create new order",
        "description": "Create a new order",
        "security": [{"bearerAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["store_id", "customer_name", "customer_email", "total_amount"],
                "properties": {
                  "store_id": { "type": "integer", "example": 1 },
                  "customer_name": { "type": "string", "example": "Jane Smith" },
                  "customer_email": { "type": "string", "format": "email", "example": "jane@example.com" },
                  "customer_phone": { "type": "string", "nullable": true, "example": "+1234567890" },
                  "total_amount": { "type": "number", "format": "float", "example": 149.99 },
                  "payment_method": { "type": "string", "nullable": true, "example": "credit_card" },
                  "shipping_address": { "type": "string", "nullable": true, "example": "123 Main St, City" },
                  "status": { "type": "string", "enum": ["pending", "processing", "completed", "cancelled"], "example": "pending" }
                }
              }
            }
          }
        },
        "responses": {
          "201": { "description": "Order created successfully" },
          "422": { "$ref": "#/components/responses/ValidationError" },
          "401": { "$ref": "#/components/responses/Unauthorized" }
        }
      }
    },
    "/api/orders/{id}": {
      "get": {
        "tags": ["Orders"],
        "summary": "Get single order",
        "description": "Retrieve order details with items",
        "security": [{"bearerAuth": []}],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }
        ],
        "responses": {
          "200": { "description": "Order details" },
          "404": { "description": "Order not found" },
          "401": { "$ref": "#/components/responses/Unauthorized" }
        }
      }
    },
    "/api/orders/{id}/status": {
      "put": {
        "tags": ["Orders"],
        "summary": "Update order status",
        "description": "Update the status of an order",
        "security": [{"bearerAuth": []}],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["status"],
                "properties": {
                  "status": { "type": "string", "enum": ["pending", "processing", "completed", "cancelled"], "example": "processing" }
                }
              }
            }
          }
        },
        "responses": {
          "200": { "description": "Order status updated successfully" },
          "404": { "description": "Order not found" },
          "422": { "$ref": "#/components/responses/ValidationError" }
        }
      }
    },
    "/api/orders/stats": {
      "get": {
        "tags": ["Orders"],
        "summary": "Get order statistics",
        "description": "Retrieve order statistics and analytics",
        "security": [{"bearerAuth": []}],
        "parameters": [
          { "name": "store_id", "in": "query", "schema": { "type": "integer" }, "description": "Filter by store ID" },
          { "name": "from_date", "in": "query", "schema": { "type": "string", "format": "date" } },
          { "name": "to_date", "in": "query", "schema": { "type": "string", "format": "date" } }
        ],
        "responses": {
          "200": {
            "description": "Order statistics",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "total_orders": { "type": "integer" },
                    "total_revenue": { "type": "number", "format": "float" },
                    "status_breakdown": { "type": "object" },
                    "average_order_value": { "type": "number", "format": "float" }
                  }
                }
              }
            }
          },
          "401": { "$ref": "#/components/responses/Unauthorized" }
        }
      }
    },
    "/api/templates": {
      "get": {
        "tags": ["Templates"],
        "summary": "Get all store templates",
        "description": "Retrieve paginated list of available store templates",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Page number for pagination",
            "required": false,
            "schema": { "type": "integer", "default": 1 }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Number of items per page",
            "required": false,
            "schema": { "type": "integer", "default": 50 }
          }
        ],
        "responses": {
          "200": {
            "description": "Templates retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean", "example": true },
                    "data": {
                      "type": "object",
                      "properties": {
                        "templates": {
                          "type": "array",
                          "items": { "$ref": "#/components/schemas/Template" }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "current_page": { "type": "integer", "example": 1 },
                            "total_pages": { "type": "integer", "example": 1 },
                            "total_items": { "type": "integer", "example": 5 },
                            "items_per_page": { "type": "integer", "example": 50 }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": { "$ref": "#/components/responses/Unauthorized" }
        }
      },
      "post": {
        "tags": ["Templates"],
        "summary": "Create a new template",
        "description": "Create a new store template (Admin only)",
        "security": [{"bearerAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["name"],
                "properties": {
                  "name": { "type": "string", "example": "Modern Ecommerce" },
                  "description": { "type": "string", "example": "A clean, modern template" },
                  "preview_image": { "type": "string", "example": "/assets/templates/modern.jpg" },
                  "html_template": { "type": "string", "description": "HTML template content" },
                  "css_template": { "type": "string", "description": "CSS template content" }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Template created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean", "example": true },
                    "message": { "type": "string", "example": "Template created successfully" },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "integer", "example": 6 }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": { "$ref": "#/components/responses/ValidationError" },
          "401": { "$ref": "#/components/responses/Unauthorized" }
        }
      }
    },
    "/api/templates/{id}": {
      "get": {
        "tags": ["Templates"],
        "summary": "Get template by ID",
        "description": "Retrieve a specific template with full details",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Template ID",
            "required": true,
            "schema": { "type": "integer" }
          }
        ],
        "responses": {
          "200": {
            "description": "Template retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean", "example": true },
                    "data": { "$ref": "#/components/schemas/Template" }
                  }
                }
              }
            }
          },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "404": {
            "description": "Template not found",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["Templates"],
        "summary": "Update a template",
        "description": "Update an existing store template (Admin only)",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Template ID",
            "required": true,
            "schema": { "type": "integer" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": { "type": "string", "example": "Modern Ecommerce" },
                  "description": { "type": "string" },
                  "preview_image": { "type": "string" },
                  "html_template": { "type": "string" },
                  "css_template": { "type": "string" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Template updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean", "example": true },
                    "message": { "type": "string", "example": "Template updated successfully" }
                  }
                }
              }
            }
          },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "404": {
            "description": "Template not found",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Templates"],
        "summary": "Delete a template",
        "description": "Delete a store template (Admin only)",
        "security": [{"bearerAuth": []}],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Template ID",
            "required": true,
            "schema": { "type": "integer" }
          }
        ],
        "responses": {
          "200": {
            "description": "Template deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean", "example": true },
                    "message": { "type": "string", "example": "Template deleted successfully" }
                  }
                }
              }
            }
          },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "404": {
            "description": "Template not found",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          }
        }
      }
    },
    "/api/health": {
      "get": {
        "tags": ["System"],
        "summary": "Health Check",
        "description": "Check API health status",
        "responses": {
          "200": { "description": "API is running" }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "Enter JWT token obtained from login endpoint"
      }
    },
    "schemas": {
      "SuccessResponse": {
        "type": "object",
        "properties": {
          "success": { "type": "boolean", "example": true },
          "message": { "type": "string" },
          "data": { "type": "object", "nullable": true }
        }
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "success": { "type": "boolean", "example": false },
          "message": { "type": "string" },
          "errors": { "type": "object", "nullable": true }
        }
      },
      "Client": {
        "type": "object",
        "properties": {
          "id": { "type": "integer", "example": 1 },
          "name": { "type": "string", "example": "John Doe" },
          "email": { "type": "string", "format": "email", "example": "client@example.com" },
          "company_name": { "type": "string", "nullable": true, "example": "Acme Inc" },
          "phone": { "type": "string", "nullable": true, "example": "+1234567890" },
          "subscription_plan": { "type": "string", "enum": ["basic", "standard", "premium"], "example": "standard" },
          "status": { "type": "string", "enum": ["active", "inactive", "suspended"], "example": "active" },
          "created_at": { "type": "string", "format": "date-time" }
        }
      },
      "ClientInput": {
        "type": "object",
        "required": ["name", "email", "password", "subscription_plan"],
        "properties": {
          "name": { "type": "string" },
          "email": { "type": "string", "format": "email" },
          "password": { "type": "string", "format": "password", "minLength": 8 },
          "company_name": { "type": "string", "nullable": true },
          "phone": { "type": "string", "nullable": true },
          "subscription_plan": { "type": "string", "enum": ["basic", "standard", "premium"] },
          "status": { "type": "string", "enum": ["active", "inactive", "suspended"] }
        }
      },
      "Store": {
        "type": "object",
        "properties": {
          "id": { "type": "integer", "example": 1 },
          "client_id": { "type": "integer", "example": 1 },
          "name": { "type": "string", "example": "My Online Store" },
          "domain": { "type": "string", "nullable": true, "example": "mystore.com" },
          "description": { "type": "string", "nullable": true },
          "logo_url": { "type": "string", "nullable": true },
          "template": { "type": "string", "example": "default" },
          "status": { "type": "string", "enum": ["active", "inactive", "maintenance"], "example": "active" },
          "customization": { "type": "object", "nullable": true },
          "created_at": { "type": "string", "format": "date-time" },
          "updated_at": { "type": "string", "format": "date-time" }
        }
      },
      "Product": {
        "type": "object",
        "properties": {
          "id": { "type": "integer", "example": 1 },
          "store_id": { "type": "integer", "example": 1 },
          "name": { "type": "string", "example": "Premium Widget" },
          "description": { "type": "string", "nullable": true },
          "price": { "type": "number", "format": "float", "example": 29.99 },
          "stock_quantity": { "type": "integer", "example": 100 },
          "sku": { "type": "string", "nullable": true, "example": "WIDGET-001" },
          "category": { "type": "string", "nullable": true, "example": "Electronics" },
          "image_url": { "type": "string", "nullable": true },
          "status": { "type": "string", "enum": ["active", "inactive", "out_of_stock"], "example": "active" },
          "created_at": { "type": "string", "format": "date-time" },
          "updated_at": { "type": "string", "format": "date-time" }
        }
      },
      "Order": {
        "type": "object",
        "properties": {
          "id": { "type": "integer", "example": 1 },
          "store_id": { "type": "integer", "example": 1 },
          "customer_name": { "type": "string", "example": "Jane Smith" },
          "customer_email": { "type": "string", "format": "email", "example": "jane@example.com" },
          "customer_phone": { "type": "string", "nullable": true, "example": "+1234567890" },
          "total_amount": { "type": "number", "format": "float", "example": 149.99 },
          "payment_method": { "type": "string", "nullable": true, "example": "credit_card" },
          "shipping_address": { "type": "string", "nullable": true },
          "status": { "type": "string", "enum": ["pending", "processing", "completed", "cancelled"], "example": "pending" },
          "created_at": { "type": "string", "format": "date-time" },
          "updated_at": { "type": "string", "format": "date-time" }
        }
      },
      "Template": {
        "type": "object",
        "properties": {
          "id": { "type": "integer", "example": 1 },
          "name": { "type": "string", "example": "CampMart Style" },
          "description": { "type": "string", "nullable": true, "example": "Modern marketplace design inspired by campus commerce" },
          "preview_image": { "type": "string", "nullable": true, "example": "/assets/templates/campmart-preview.jpg" },
          "html_template": { "type": "string", "nullable": true, "description": "HTML template content" },
          "css_template": { "type": "string", "nullable": true, "description": "CSS template content" },
          "created_at": { "type": "string", "format": "date-time" }
        }
      }
    },
    "responses": {
      "Unauthorized": {
        "description": "Unauthorized - Invalid or missing token",
        "content": {
          "application/json": {
            "schema": { "$ref": "#/components/schemas/ErrorResponse" }
          }
        }
      },
      "ValidationError": {
        "description": "Validation failed",
        "content": {
          "application/json": {
            "schema": { "$ref": "#/components/schemas/ErrorResponse" }
          }
        }
      }
    }
  }
}
